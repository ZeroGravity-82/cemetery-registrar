{% extends 'logged.html.twig' %}

{% block title %}Захоронения{% endblock %}

{% block body %}
  {{ parent() }}

  <div class="mb-2 mb-lg-2">
    <p class="pt-2 fs-5 fw-bold text-success">Захоронения</p>

    <div class="d-flex pb-2">
      <div class="flex-grow-1">
        <button class="btn btn-outline-primary btn-sm" type="button">Создать</button>
        <button class="btn btn-outline-primary btn-sm disabled" type="button">Создать группу</button>
        <button class="btn btn-outline-primary btn-sm disabled" type="button">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-plus" viewBox="0 0 16 16">
            <path d="M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5z"/>
            <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>
          </svg>
        </button>
        <button class="btn btn-outline-primary btn-sm disabled" type="button">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-printer" viewBox="0 0 16 16">
            <path d="M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"/>
            <path d="M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"/>
          </svg>
          Групповая печать копщику
        </button>
      </div>

      <form class="burial-search col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3">
        <input type="search" class="form-control form-control-dark" placeholder="Поиск..." aria-label="Search">
      </form>
      <div class="text-end">
        <div class="btn dropdown">
          <a class="dropdown-toggle text-decoration-none" href="#" id="dropdownMore" data-bs-toggle="dropdown" aria-expanded="false">Еще</a>
          <ul class="dropdown-menu" aria-labelledby="dropdownMore">
            <li><a class="dropdown-item disabled" href="#">Пункт 1</a></li>
            <li><a class="dropdown-item disabled" href="#">Пункт 2</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="table-responsive">
      <table class="table table-sm table-hover caption-top">
        <thead class="table-light align-middle">
          <tr>
            <th>Ф.И.О.</th>
            <th>Код</th>
            <th>Дата рождения</th>
            <th>Дата смерти</th>
            <th>Дата захоронения</th>
            <th>Возраст</th>
            <th>Место захоронения</th>
            <th>Заказчик</th>
            <th>Адрес заказчика</th>
            <th>Телефон заказчика</th>
          </tr>
        </thead>
        <tbody>
          {% for burialViewListItem in burialViewList.burialViewListItems %}
            <tr>
            <td>{{- burialViewListItem.deceasedNaturalPersonFullName -}}</td>
            <td>{{- burialViewListItem.code -}}</td>
            <td>{{- burialViewListItem.deceasedNaturalPersonBornAt is empty ? '' : burialViewListItem.deceasedNaturalPersonBornAt|date('d.m.Y') -}}</td>
            <td>{{- burialViewListItem.deceasedDiedAt              is empty ? '' : burialViewListItem.deceasedDiedAt|date('d.m.Y') -}}</td>
            <td>{{- burialViewListItem.buriedAt                    is empty ? '' : burialViewListItem.buriedAt|date('d.m.Y H:i') -}}</td>
            <td>{{- burialViewListItem.deceasedAge                 is empty ? '' : burialViewListItem.deceasedAge -}}</td>
            <td>
              {% if burialViewListItem.burialPlaceType == constant('Cemetery\\Registrar\\Domain\\BurialPlace\\GraveSite\\GraveSite::CLASS_SHORTCUT') %}
                {{- burialViewListItem.burialPlaceGraveSiteCemeteryBlockName is empty ? '' : 'квартал '~burialViewListItem.burialPlaceGraveSiteCemeteryBlockName -}}
                {{- burialViewListItem.burialPlaceGraveSiteRowInBlock        is empty ? '' : ', ряд '~burialViewListItem.burialPlaceGraveSiteRowInBlock -}}
                {{- burialViewListItem.burialPlaceGraveSitePositionInRow     is empty ? '' : ', место '~burialViewListItem.burialPlaceGraveSitePositionInRow -}}
              {% elseif burialViewListItem.burialPlaceType == constant('Cemetery\\Registrar\\Domain\\BurialPlace\\ColumbariumNiche\\ColumbariumNiche::CLASS_SHORTCUT') %}
                {{- burialViewListItem.burialPlaceColumbariumNicheColumbariumName  is empty ? '' : 'колумбарий '~burialViewListItem.burialPlaceColumbariumNicheColumbariumName -}}
                {{- burialViewListItem.burialPlaceColumbariumNicheRowInColumbarium is empty ? '' : ', ряд '~burialViewListItem.burialPlaceColumbariumNicheRowInColumbarium -}}
                {{- burialViewListItem.burialPlaceColumbariumNicheNumber           is empty ? '' : ', ниша '~burialViewListItem.burialPlaceColumbariumNicheNumber -}}
              {% elseif burialViewListItem.burialPlaceType == constant('Cemetery\\Registrar\\Domain\\BurialPlace\\MemorialTree\\MemorialTree::CLASS_SHORTCUT') %}
                {{- burialViewListItem.burialPlaceMemorialTreeNumber is empty ? '' : 'сосна '~burialViewListItem.burialPlaceMemorialTreeNumber -}}
              {% endif %}
            </td>
            <td>
              {% if burialViewListItem.customerType == constant('Cemetery\\Registrar\\Domain\\NaturalPerson\\NaturalPerson::CLASS_SHORTCUT') %}
                {{- burialViewListItem.customerNaturalPersonFullName is empty ? '' : burialViewListItem.customerNaturalPersonFullName -}}
              {% elseif burialViewListItem.customerType == constant('Cemetery\\Registrar\\Domain\\Organization\\SoleProprietor\\SoleProprietor::CLASS_SHORTCUT') %}
                {{- burialViewListItem.customerSoleProprietorName is empty ? '' : burialViewListItem.customerSoleProprietorName -}}
              {% elseif burialViewListItem.customerType == constant('Cemetery\\Registrar\\Domain\\Organization\\JuristicPerson\\JuristicPerson::CLASS_SHORTCUT') %}
                {{- burialViewListItem.customerJuristicPersonName is empty ? '' : burialViewListItem.customerJuristicPersonName -}}
              {% endif %}
            </td>
            <td>
              {% if burialViewListItem.customerType == constant('Cemetery\\Registrar\\Domain\\NaturalPerson\\NaturalPerson::CLASS_SHORTCUT') %}
                {{- burialViewListItem.customerNaturalPersonAddress is empty ? '' : burialViewListItem.customerNaturalPersonAddress -}}
              {% elseif burialViewListItem.customerType == constant('Cemetery\\Registrar\\Domain\\Organization\\SoleProprietor\\SoleProprietor::CLASS_SHORTCUT') %}
                {{- burialViewListItem.customerSoleProprietorRegistrationAddress is empty
                  ? burialViewListItem.customerSoleProprietorActualLocationAddress is empty ? '' : burialViewListItem.customerSoleProprietorActualLocationAddress
                  : burialViewListItem.customerSoleProprietorRegistrationAddress -}}
              {% elseif burialViewListItem.customerType == constant('Cemetery\\Registrar\\Domain\\Organization\\JuristicPerson\\JuristicPerson::CLASS_SHORTCUT') %}
                {{- burialViewListItem.customerJuristicPersonLegalAddress is empty
                  ? burialViewListItem.customerJuristicPersonPostalAddress is empty ? '' : burialViewListItem.customerJuristicPersonPostalAddress
                  : burialViewListItem.customerJuristicPersonLegalAddress -}}
              {% endif %}
            </td>
            <td>
              {% if burialViewListItem.customerType == constant('Cemetery\\Registrar\\Domain\\NaturalPerson\\NaturalPerson::CLASS_SHORTCUT') %}
                {{- burialViewListItem.customerNaturalPersonPhone is empty ? '' : burialViewListItem.customerNaturalPersonPhone -}}
              {% elseif burialViewListItem.customerType == constant('Cemetery\\Registrar\\Domain\\Organization\\SoleProprietor\\SoleProprietor::CLASS_SHORTCUT') %}
                {{- burialViewListItem.customerSoleProprietorPhone is empty ? '' : burialViewListItem.customerSoleProprietorPhone -}}
              {% elseif burialViewListItem.customerType == constant('Cemetery\\Registrar\\Domain\\Organization\\JuristicPerson\\JuristicPerson::CLASS_SHORTCUT') %}
                {{- burialViewListItem.customerJuristicPersonPhone is empty ? '' : burialViewListItem.customerJuristicPersonPhone -}}
              {% endif %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}
